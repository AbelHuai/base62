!function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define("columbusMagicUrl",[],t):"object"===typeof exports?exports.columbusMagicUrl=t():e.columbusMagicUrl=t()}(window,(function(){return function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),e}},function(e,t,r){e.exports=r(4)},function(e,t,r){"use strict";r.r(t),r.d(t,"Base62",(function(){return u}));var i=r(1),n=r.n(i),o=r(2),a=r.n(o),s=r(0),c=r.n(s),u=new(function(){function e(){n()(this,e),c()(this,"isdebug",void 0),c()(this,"i",void 0),c()(this,"codetype",void 0),this.isdebug=!0,this.i=Math.ceil(1e5*Math.random()),this.codetype=0}return a()(e,[{key:"encode",value:function(t,r){return this.get("xtag"),e.encode(t,r)}},{key:"decode",value:function(t,r){return this.get("xtag"),e.decode(t,r)}},{key:"get",value:function(t){return e.get(t)}},{key:"set",value:function(t,r){return e.set(t,r)}}],[{key:"encode",value:function(e,t){var r=void 0;if("undefined"==typeof e||""==e)return r;var i=this.get("xtag"),n=this.get("b62x"),o=this.get("asclist"),a=this.get("ascrlist"),s=this.get("bpos"),c=this.get("xpos"),u=this.get("ascidx"),f=this.get("ascmax"),l=this.fillRb62x(n,s,c),d=!1;if(t>0&&(d=!0),d){r=0;var h=this.xx2dec(e,t,l),g=c;r=this.dec2xx(h,g,n)}else{var v=this.toUTF8Array(e),x=v.length,p=this.setAscii(0,v,u,f,o,a),y=p.asctype;u=p.ascidx,a=p.ascrlist;var b=[],m=0,k=0;if(1==y){var C=i.charCodeAt();do{-1!=u[v[m]]?(b[k]=i,b[++k]=u[v[m]]):v[m]==C?(b[k]=i,b[++k]=i):b[k]=String.fromCharCode(v[m]),k++}while(++m<x);b[++k]=i}else{var w=0,j=0,A=0,S=0;do{switch(x-m){case 1:w=v[m]>>2,j=(v[m]<<6&255)>>6,w>s?(b[k]=i,b[++k]=n[w]):b[k]=n[w],j>s?(b[++k]=i,b[++k]=n[j]):b[++k]=n[j];break;case 2:w=v[m]>>2,j=(v[m]<<6&255)>>2|v[m+1]>>4,A=(v[m+1]<<4&255)>>4,w>s?(b[k]=i,b[++k]=n[w]):b[k]=n[w],j>s?(b[++k]=i,b[++k]=n[j]):b[++k]=n[j],A>s?(b[++k]=i,b[++k]=n[A]):b[++k]=n[A],m+=1;break;default:w=v[m]>>2,j=(v[m]<<6&255)>>2|v[m+1]>>4,A=(v[m+1]<<4&255)>>2|v[m+2]>>6,S=(v[m+2]<<2&255)>>2,w>s?(b[k]=i,b[++k]=n[w]):b[k]=n[w],j>s?(b[++k]=i,b[++k]=n[j]):b[++k]=n[j],A>s?(b[++k]=i,b[++k]=n[A]):b[++k]=n[A],S>s?(b[++k]=i,b[++k]=n[S]):b[++k]=n[S],m+=2}k++}while(++m<x)}r=b.join("")}return r}},{key:"decode",value:function(e,t){var r=void 0;if("undefined"==typeof e||""==e)return r;var i=this.get("xtag"),n=(i=this.get("xtag"),this.get("b62x")),o=this.get("asclist"),a=this.get("ascrlist"),s=this.get("bpos"),c=this.get("xpos"),u=this.get("ascidx"),f=this.get("ascmax"),l=this.fillRb62x(n,s,c),d=!1;if(t>0&&(d=!0),d){r=0;var h=c,g=this.xx2dec(e,h,l);r=this.dec2xx(g,t,n)}else{var v=this.toUTF8Array(e),x=v.length,p=this.setAscii(1,v,u,f,o,a),y=p.asctype;u=p.ascidx,a=p.ascrlist;var b=[],m=0,k=0,C=i.charCodeAt();if(1==y){x--;var w="";do{v[m]==C?v[m+1]==C?(b[k]=i,m++):(w=String.fromCharCode(v[++m]),b[k]=String.fromCharCode(a[w])):b[k]=String.fromCharCode(v[m]),k++}while(++m<x);r=b.join("")}else{var j=[],A={},S={1:1,2:2,3:3};for(var M in l)l[M.charCodeAt(0)]=l[M];for(var M in S)S[M.charCodeAt(0)]=S[M];do{switch(j=[],x-m){case 1:console.log("static decode: illegal base62x input:["+v[m]+"]. 1702122106.");break;case 2:v[m]==C?j[0]=s+S[v[++m]]:j[0]=l[v[m]],v[++m]==C?j[1]=s+S[v[++m]]:j[1]=l[v[m]],b=(A=this.decodeByLength(j,b,k))[0],k=A[1];break;case 3:v[m]==C?j[0]=s+S[v[++m]]:j[0]=l[v[m]],v[++m]==C?j[1]=s+S[v[++m]]:j[1]=l[v[m]],v[++m]==C?j[2]=s+S[v[++m]]:j[2]=l[v[m]],b=(A=this.decodeByLength(j,b,k))[0],k=A[1];break;default:v[m]==C?j[0]=s+S[v[++m]]:j[0]=l[v[m]],v[++m]==C?j[1]=s+S[v[++m]]:j[1]=l[v[m]],v[++m]==C?j[2]=s+S[v[++m]]:j[2]=l[v[m]],v[++m]==C?j[3]=s+S[v[++m]]:j[3]=l[v[m]],b=(A=this.decodeByLength(j,b,k))[0],k=A[1]}k++}while(++m<x);r=this.toUTF16Array(b).join("")}}return r}},{key:"get",value:function(e){var t=void 0;this.config={isdebug:!0,codetype:0,xtag:"x",encd:"-enc",decd:"-dec",debg:"v",cvtn:"-n",b62x:["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","y","z","1","2","3","x"],bpos:60,xpos:64,rb62x:[],ascmax:127,asclist:["4","5","6","7","8","9","0","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","y","z"],ascidx:[],ascrlist:[],max_safe_base:36,ver:.8};var r=!1;return"undefined"!=typeof this.configx&&this.configx.hasOwnProperty(e)&&(t=this.configx[e],r=!0),r||this.config.hasOwnProperty(e)&&(t=this.config[e],r=!0),t}},{key:"set",value:function(e,t){"undefined"==typeof this.configx&&(this.configx={}),this.configx[e]=t}},{key:"fillRb62x",value:function(e,t,r){for(var i={},n=0;n<=r;n++)n>t&&n<r||(i[e[n]]=n);return i}},{key:"setAscii",value:function(e,t,r,i,n,o){var a={},s=0,c=this.get("xtag").charCodeAt(),u=t.length;if(0==e&&t[0]<=i){s=1;for(var f=0,l=1;l<u;l++)if((f=t[l])>i||f>16&&f<21||f>27&&f<32){s=0;break}}else 1==e&&t[u-1]==c&&(s=1);if(a.asctype=s,1==s){for(l=0;l<i;l++)r[l]=-1;var d=0,h=[0,21,32,58,91,123],g=[17,28,48,65,97,i+1];for(var v in h){var x=g[v];for(l=h[v];l<x;l++)r[l]=n[d],o[n[d]]=l,d++}}return a.ascidx=r,a.ascrlist=o,a}},{key:"xx2dec",value:function(e,t,r){var i="0",n=this.get("xtag"),o=this.get("bpos"),a=this.get("max_safe_base"),s=this.get("xpos");if(t<2||t>s)console.log("static xx2dec: illegal ibase:["+t+"]");else if(t<=a)i=parseInt(e+"",0|t).toString(10);else{var c=e.split(""),u=c.length,f=0,l=0;c.reverse();for(var d=0;d<u;d++)c[d+1]==n?(l=o+r[c[d]],f++,d++):l=r[c[d]],i+=l*Math.pow(t,d-f)}return i}},{key:"dec2xx",value:function(e,t,r){var i="0",n=this.get("xtag"),o=this.get("bpos"),a=this.get("max_safe_base"),s=this.get("xpos");if(t<2||t>s)console.log("static xx2dec: illegal ibase:[10]");else if(t<=a)i=parseInt(e+"",10).toString(0|t);else{for(var c=0,u=0,f=[];e>=t;)u=e%t,e=Math.floor(e/t),u<=o?f[c++]=r[u]:(f[c++]=r[u-o],f[c++]=n);(u=e)<=o?f[c++]=r[u]:(f[c++]=r[u-o],f[c++]=n),f.reverse(),i=f.join("")}return i}},{key:"decodeByLength",value:function(e,t,r){var i=0,n=0,o=0;return"undefined"!=typeof e[3]?(i=e[0]<<2|e[1]>>4,n=e[1]<<4&240|e[2]>>2,o=e[2]<<6&255|e[3],t[r]=i,t[++r]=n,t[++r]=o):"undefined"!=typeof e[2]?(i=e[0]<<2|e[1]>>4,n=e[1]<<4&240|e[2],t[r]=i,t[++r]=n):"undefined"!=typeof e[1]?(i=e[0]<<2|e[1],t[r]=i):(i=e[0],t[r]=i),{0:t,1:r}}},{key:"toUTF8Array",value:function(e){for(var t=[],r=e,i=0;i<r.length;i++){var n=r.charCodeAt(i);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|63&n):(i++,n=65536+((1023&n)<<10|1023&r.charCodeAt(i)),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return t}},{key:"toUTF16Array",value:function(e){var t,r,i,n=e,o=n.length,a=[];for(i=0,r=0;r<o;r++)n[r]<=127?a[i++]=String.fromCharCode(n[r]):n[r]>=192?(n[r]<224?t=(31&n[r++])<<6|63&n[r]:n[r]<240?t=(15&n[r++])<<12|(63&n[r++])<<6|63&n[r]:(t=((7&n[r++])<<18|(63&n[r++])<<12|(63&n[r++])<<6|63&n[r])-65536,a[i++]=String.fromCharCode(55296+((1047552&t)>>>10)),t=56320+(1023&t)),a[i++]=String.fromCharCode(t)):console.log("static toUTF16Array: illegal utf8 found. 1702132109.");return a}}]),e}());t.default=u}])}));